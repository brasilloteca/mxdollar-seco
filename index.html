<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MX$ - Calculadora de Apostas</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: #f5f7fa;
    color: #222;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 750px;
    margin: 0 auto;
    padding: 20px;
  }
  h1 {
    text-align: center;
    font-size: 2.5em;
    color: #0078ff;
    margin-bottom: 10px;
    letter-spacing: 1px;
  }
  label {
    font-weight: bold;
    display: block;
    margin: 8px 0 5px 0;
  }
  input[type="number"], input[type="text"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 12px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 1em;
  }
  .row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  .row > div {
    flex: 1;
    min-width: 130px;
  }
  button {
    width: 100%;
    background: #0078ff;
    color: white;
    padding: 12px;
    font-size: 1.1em;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 5px;
  }
  button:hover {
    background: #005fcc;
  }
  .resultado {
    background: #e8f0ff;
    border: 1px solid #0078ff;
    padding: 12px;
    border-radius: 8px;
    margin-top: 15px;
    font-weight: bold;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>MX$</h1>

    <div class="row">
      <div>
        <label for="saldoInicial">üí∞ Saldo inicial</label>
        <input type="number" id="saldoInicial" placeholder="Ex: 1000" step="0.01" min="0" />
      </div>
      <div>
        <label for="saldoAtual">üìä Saldo atual</label>
        <input type="text" id="saldoAtual" value="0.00" readonly />
      </div>
    </div>

    <div class="row">
      <div>
        <label>Time 1</label>
        <input type="text" id="time1" placeholder="Ex: Palmeiras" />
      </div>
      <div>
        <label>Time 2</label>
        <input type="text" id="time2" placeholder="Ex: Flamengo" />
      </div>
    </div>

    <div class="row">
      <div>
        <label>Odd 1</label>
        <input type="number" id="odd1" placeholder="Ex: 1.85" step="0.01" min="1.01" />
      </div>
      <div>
        <label>Odd 2</label>
        <input type="number" id="odd2" placeholder="Ex: 2.10" step="0.01" min="1.01" />
      </div>
    </div>

    <label for="valorTotal">üéØ Valor total a apostar</label>
    <input type="number" id="valorTotal" placeholder="Ex: 100" step="0.01" min="0" />

    <label for="multi2">Multiplicador (2 apostas vencedoras)</label>
    <input type="number" id="multi2" placeholder="Ex: 2.5" step="0.01" min="0" />

    <label for="multi1">Multiplicador (1 aposta vencedora)</label>
    <input type="number" id="multi1" placeholder="Ex: 1.4" step="0.01" min="0" />

    <label for="multi0">Multiplicador (0 apostas vencedoras)</label>
    <input type="number" id="multi0" placeholder="Ex: 0" step="0.01" min="0" />

    <label for="vitorias">Quantas apostas venceram? (2, 1 ou 0)</label>
    <input type="number" id="vitorias" placeholder="Ex: 1" min="0" max="2" />

    <button onclick="calcularDistribuicao()">Calcular Distribui√ß√£o</button>

    <div id="resultadoDistribuicao" class="resultado" style="display:none;"></div>

    <button onclick="concluirAposta()">‚úÖ Concluir Aposta</button>

    <div id="resultadoFinal" class="resultado" style="display:none;"></div>
  </div>

  <script>
    let lucroAcumulado = 0;

    function calcularDistribuicao() {
      const odd1 = parseFloat(document.getElementById("odd1").value);
      const odd2 = parseFloat(document.getElementById("odd2").value);
      const valorTotal = parseFloat(document.getElementById("valorTotal").value);

      if (isNaN(odd1) || isNaN(odd2) || isNaN(valorTotal) || valorTotal <= 0) {
        alert("Preencha corretamente as odds e o valor total.");
        return;
      }

      // C√°lculo de distribui√ß√£o proporcional
      const somaInversos = (1 / odd1) + (1 / odd2);
      const aposta1 = (valorTotal / odd1) / somaInversos;
      const aposta2 = (valorTotal / odd2) / somaInversos;

      document.getElementById("resultadoDistribuicao").style.display = "block";
      document.getElementById("resultadoDistribuicao").innerHTML = `
        üßÆ Valor total: R$ ${valorTotal.toFixed(2)}<br>
        ‚öñÔ∏è Aposta 1 (${odd1.toFixed(2)}): R$ ${aposta1.toFixed(2)}<br>
        ‚öñÔ∏è Aposta 2 (${odd2.toFixed(2)}): R$ ${aposta2.toFixed(2)}
      `;

      // Armazena para uso no c√°lculo final
      window.valoresAposta = { aposta1, aposta2, valorTotal };
    }

    function concluirAposta() {
      const saldoInicial = parseFloat(document.getElementById("saldoInicial").value);
      const vitorias = parseInt(document.getElementById("vitorias").value);
      const multi2 = parseFloat(document.getElementById("multi2").value);
      const multi1 = parseFloat(document.getElementById("multi1").value);
      const multi0 = parseFloat(document.getElementById("multi0").value);

      if (!window.valoresAposta) {
        alert("Primeiro calcule a distribui√ß√£o das apostas.");
        return;
      }
      if (isNaN(saldoInicial) || saldoInicial <= 0) {
        alert("Defina um saldo inicial v√°lido.");
        return;
      }
      if (![0,1,2].includes(vitorias)) {
        alert("Digite o n√∫mero de apostas vencedoras (0, 1 ou 2).");
        return;
      }

      const { valorTotal } = window.valoresAposta;
      let multiplicador = 0;

      if (vitorias === 2) multiplicador = multi2;
      else if (vitorias === 1) multiplicador = multi1;
      else multiplicador = multi0;

      const retorno = valorTotal * multiplicador;
      const lucroOuPrejuizo = retorno - valorTotal;

      lucroAcumulado += lucroOuPrejuizo;
      const saldoAtual = saldoInicial + lucroAcumulado;

      document.getElementById("saldoAtual").value = saldoAtual.toFixed(2);

      document.getElementById("resultadoFinal").style.display = "block";
      document.getElementById("resultadoFinal").innerHTML = `
        üìä Resultado da aposta:<br>
        ‚ûï Retorno: R$ ${retorno.toFixed(2)}<br>
        üíµ Lucro/Preju√≠zo: R$ ${lucroOuPrejuizo.toFixed(2)}<br>
        üí∞ Saldo atual: R$ ${saldoAtual.toFixed(2)}
      `;
    }
  </script>
</body>
</html>
